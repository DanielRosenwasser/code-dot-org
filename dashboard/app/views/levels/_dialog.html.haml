/ This partial contains general logic+view for displaying modal dialogs and handling submit button interactions.
- app = local_assigns[:app]

- unless app == 'external'
  .buttons{class: @level.properties['submittable'] == 'true' ? 'submittable' : nil}
    - if local_assigns[:previous_page_button]
      %a.btn.btn-large.btn-primary.previousPageButton
        =t('previous_page')
    - if local_assigns[:next_level_link]
      %a.btn.btn-large.btn-primary.next-lesson.nextLevelButton{style: !!local_assigns[:show_submit] ? 'display:none' : nil}
        =t('next_level')
    - if local_assigns[:next_page_button]
      %a.btn.btn-large.btn-primary.nextPageButton
        =t('next_page')
    - else
      %a.btn.btn-large.btn-primary.next-lesson.submitButton{style: !!local_assigns[:show_submit] ? nil : 'display:none'}
        =t('submit')
      - if @level.properties['submittable'] && !Policies::InlineAnswer.visible_for_script_level?(current_user, @script_level)
        %a.btn.btn-large.btn-primary.unsubmitButton{style: 'display: none'}
          =t('unsubmit')
.clear

- data = {}
- data['nextlevellink'] = local_assigns[:next_level_link].to_json if local_assigns[:next_level_link]
%script{src: webpack_asset_path('js/levels/_dialog.js'), data: data}
